<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.20"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AutosarOS: AVR-AUTOSAR</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AutosarOS
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.20 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">AVR-AUTOSAR </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md__github_workspace_README"></a> <a href="https://github.com/skulblakka/AVR-Autosar">AVR-AUTOSAR</a> is a real-time operating system for AVR microcontrollers based on the <a href="https://www.irisa.fr/alf/downloads/puaut/TPNXT/images/os223.pdf">OSEK/VDX OS</a> and <a href="https://www.autosar.org/standards/classic-platform/classic-platform-440/">AUTOSAR OS 4.4</a> standards.</p>
<p>AVR-AUTOSAR implements the scalability class 1 of AUTOSAR OS.</p>
<h1>Motivation</h1>
<p>The motivation for AVR-AUTOSAR was to create an easy-to-understand open-source implementation of AUTOSAR OS that can be run on widely available microprocessors.</p>
<p>The project was developed as part of a final thesis at the University of Applied Sciences Dortmund.</p>
<h1>Quickstart</h1>
<p>The project was created with the Atmel Studio 7 and the current AVR8-GCC-Toolchain on Windows. The solution and project files are included in the repository.</p>
<p>Configuration of the system is done in the <code>AppCfg.h</code>. The macros necessary are defined and documented in <code><a class="el" href="_cfg_gen_macros_8h.html" title="Macros used for generation of system.">include/CfgGenMacros.h</a></code>. The documentation from the current release can be found <a href="https://skulblakka.github.io/AVR-Autosar/index.html">here</a>. To generate the current documentation the provided doxyfile can be used.</p>
<p>The application code is placed in <code>App.c</code>.</p>
<p>The repository contains an test application for ATmega1284 devices which was used during development to test all the features of the operating system. It can be used as an example. Additionally multiple applications are provided for testing under <code>AutosarOS/test</code>.</p>
<h1>Supported Microprocessors</h1>
<p>The operating system was tested with the following devices:</p><ul>
<li>ATmega32</li>
<li>ATmega328P</li>
<li>ATmega128</li>
<li>ATmega1284</li>
<li>ATmega2560</li>
</ul>
<p>Other microprocessors of the ATmega-family should work with minimal work required.</p>
<h1>Tracing</h1>
<p>During development a debugger-based system for tracing was used to record program flow.</p>
<p>The tracepoints set in Atmel Studio can be imported from the <code>tracing.xml</code> file. Note that the tracepoints for the ISRs will probably not load correctly as they are set on the user functions outside the operating system.</p>
<p>Additionally a data tracepoint can be set for <code>errorInfo.id</code> (write access) if error information is used. The following print message can be used to generate comments in the trace output which show what OS services are being called:</p>
<p><code># {currentTask};{isISR} called $FUNCTION</code></p>
<p>The generated trace should look something like this: </p><div class="fragment"><div class="line">#version 1.0</div>
<div class="line"># INVALID_TASK;0 called OS_StartOS</div>
<div class="line">898158796,Core_0,0,T,Idle,0,activate</div>
<div class="line">898158921,Core_0,0,T,Task1,0,activate</div>
<div class="line">898159328,Core_0,0,T,Task1,0,start</div>
<div class="line"># Task1;0 called Events_SetEvent</div>
<div class="line"># Task1;0 called Task_TerminateTask</div>
<div class="line">898167984,Core_0,0,T,Task1,0,terminate</div>
<div class="line">898169140,Core_0,0,T,Idle,0,start</div>
</div><!-- fragment --><p>The traces follow the "Better Trace Format" for OSEK and can be imported into Eclipse Trace Compass.</p>
<p><em>Note that the timestamps are generated on the host not the target! This means that absolute timings can't be trusted. Therefore this method should only be used to trace the program flow/order of execution.</em></p>
<h1>Known limitations</h1>
<ul>
<li>The system does not use ready queues for tasks. If multiple tasks with the same priority get activated they will be selected based on their order in the configuration not on the time of activation.</li>
<li>The system does not support hardware-based counters (instead a timer that increments a software-based counter must be used).</li>
<li>The constants for the alarm base are not automatically created and must either be created by the user or <code><a class="el" href="_o_s___a_p_i_8h.html#a98038db534a63f24022a1cb71c8f0850">GetAlarmBase()</a></code> must be used. </li>
</ul>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="http://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.8.20 </li>
  </ul>
</div>
</body>
</html>
